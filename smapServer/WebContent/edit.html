<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Form Builder</title>
	
	<link rel="shortcut icon" href="favicon.ico" />
	<link rel="stylesheet" href="css/normalize.css" />
	<link rel="stylesheet" href="/css/bootstrap.min.css" /> 
	<!--  <link rel="stylesheet" href="/css/app.css" /> -->
	<link rel="stylesheet" href="/css/smap-bs.css" type="text/css">

	<style> 
		textarea.lang_a, textarea.lang_b {overflow: hidden; word-wrap: break-word; resize: horizontal; height: 66px;}
		textarea.lang_b:focus {background-color: green; }
		.csv_btn_rem {
			display: inline;
			font-size: 18px;
			height: 24px;
			width: 24px;
			line-height: 14px;
			text-align: center;
			margin: 1px;
			padding: 2px;
			font-weight: bold;
			text-decoration: none;
			color: white;
			visited: white;
			border: 1px solid #a1a1a1;
			border-radius: 2px;
			background: rgba(0, 60, 136, 0.5);
		}
	</style>
    
 	<script type="text/javascript"> if (!window.console) console = {log: function() {}}; </script>
	<script src="js/libs/modernizr.js"></script>
    <script data-main="js/edit" src="js/libs/require.js"></script>
</head>
<body>

<header class="navbar navbar-default navbar-static-top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="#" class="navbar-brand">
      	<span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
     	 Form Builder
      </a>
    </div>
	<nav class="collapse navbar-collapse" role="navigation">
      <ul class="nav navbar-nav navbar-right">
      	<li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="lang" data-lang="m_modules">View</span> <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a class="lang" data-lang="m_home" href="/index.html">Home</a></li>
            <li class="disabled"><a class="lang" data-lang="c_edit" href="#">Edit</a></li>
            <li><a class="lang" data-lang="m_admin" href="/fieldManager/templateManagement.html">Admin</a></li>
            <li><a class="lang" data-lang="m_web_forms" href="/webForm.html">Web Forms</a></li>
            <li class="restrict_role analyst_role"><a class="lang" data-lang="m_analysis" href="/fieldAnalysis/index.html">Analysis</a></li>
          </ul>
        </li> 
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="lang" data-lang="c_file">File</span> <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a id="c_save" href="#">Save</a></li>
            <li><a id="m_open" href="#">Open</a></li>
            <li class="disabled"><a id="m_new" href="#">New</a></li>
            <li class="disabled"><a id="m_import" href="#">Import</a>
          </ul>
        </li> 
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="lang" data-lang="m_view">View</span> <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li class="disabled"><a id="m_form" href="#">Form</a>
            <li><a id="m_translate" href="#">Translate</a>
           	<li><a id="m_manage_media" href="/media.html">Media</a></li> 
           	<li><a id="m_calculations" href="/ssc.html">Calculations</a></li>
            <li><a id="m_changes" href="#">Changes</a>
          </ul>
        </li>  
                      
	    <!-- 
	   	<li><a id="m_undo" href="#">Undo</a></li>
	    <li><a id="m_redo" href="#">Redo</a></li>
	    -->
		<li><a class="lang" data-lang="m_help" href="https://docs.google.com/folderview?id=0B5_SmpWlQYxvNExwSFV5X051Yjg&usp=docslist_api#" target="_blank">Help</a></li>
        <li>
         	<a id="username" type="button" class="btn btn-default" data-toggle="modal" data-target="#modify_me_popup" aria-label="User">
			<span class="glyphicon glyphicon-user" aria-hidden="true"></span>
			</a>
		</li>
      </ul>
      	
	</nav>

  </div>
</header>
	
	      
	    
	
	
	<div class="uno" id="main_page">
	
		<!-- Informational -->
		<div id="infobox" class="alert alert-warning alert-dismissible" role="alert" style="display:none;">
  			<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  			<span id="errormesg"></span>
		</div>
		
		<!-- List of changes to the current survey -->
		<div id="changes" style="display:none;">
		</div>
		
		<!-- Main Survey editing page -->
		<div id="survey">
		</div>
		
		<!-- Specialist translation editing -->
		<div id="translate" style="display:none;">
			<div class="errorcount">
  				<div class="large-4 small-4 columns">
  					<span id="successLabel" class="success round radius label"><span class="counter">0</span> Successful Changes</span>
        			<span id="failedLabel" class="alert round radius label"><span class="counter">0</span> Failed Changes</span>
    				<p class="qcount">Translations Made: </p>		
  				</div>
	  			<div class="tabhint large-4 columns">
	    			<p class="tabhint"> Once you've filled a form field, press tab to go to the next one! </p>
	  			</div>
	  			<div class="large-4 small-8 columns ecount">
	    			<a class="button tiny white m_save_survey disabled" disabled="disabled">Save Translations</a>
	 			 </div>
	 		 </div>
	 		 <div class="errorcount" style="top: 90px;">
	 			 	<div class="small-12 medium-6 columns" style="line-height: 30px;">
						<select id="language1" class="language_list" tabindex="-1"></select>
					</div>
					<div class="small-12 medium-6 columns" style="line-height: 30px;">
						<select id="language2" class="language_list" tabindex="-1"></select></div>
					</div>
 			 <div class="questions translate"></div>
		</div>
		

		<div id="settings" style="display:none;">
  		<h2>Settings</h2>
  		<p>The survey settings can be saved by clicking the "Save Settings" button.  This will not
  		create a new version of the survey and will not save any changes you have made to the survey
  		proper such as changes to questions.  The undo and redo buttons are not used for
  		information on this page</p>
  		<form>
  			<div class="large-12 columns">
	      		<label>Survey Name:
	        		<input id="set_survey_name" type="text" placeholder="Enter the name of the survey" />
	      		</label>
    		</div>
    		 <div class="large-12 columns">
	      		<label>Survey Identifier:
	        		<input id="set_survey_ident" type="text"  readonly/>
	      		</label>
    		</div>
    		<div class="large-12 columns">
				<label>Project :</label>
				<select id="set_project_name" class="project_list">
				</select>
			</div>
			<div class="large-12 columns">
				<label>Default Language :</label>
				<select id="set_default_language" class="language_list">
				</select>
			</div>
		</form>
		<dl class="accordion" data-accordion>
  			<dd class="accordion-navigation">
    			<a href="#panel1">Server Side Calculations</a>
    			<div id="panel1" class="content">
    			
    				<table id="fl" border="1" width=100%">
						<thead>
							<tr>
								<th>Name</th>
								<th>Form</th>
								<th>Function</th>
								<th>Units</th>
								<th>Parameters</th>
								<th>Delete</th>
							</tr>
						</thead>
						<tbody id="sscList">
						</tbody>
					</table>
	
					<button id="add_ssc">Add Calculated Value</button>
					
    			</div>
    		</dd>
    			<dd class="accordion-navigation">
    			<a href="#panel2">Attach CSV Files</a>
    			<div id="panel2" class="content">
    				<table id="csv_manifest_list" class="tablesorter" border="1" width=100%">
						<thead>
							<tr>
								<th>File</th>
								<th>Delete</th>
							</tr>
						</thead>
						<tbody id="csvList">
						</tbody>
					</table>
					
					<button id="add_csv">Attach CSV file</button>
					
    			</div>
    		</dd>
    	</dl>
    			
		<div class="large-12">
			<button id="save_settings" class="button radius text-center" disabled="disabled">Save Settings</button>
		</div>		

	
	</div>
	

	<!-- Modals -->
	<div id="openFormModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="openFormLabel" aria-hidden="true">
		<div class="modal-dialog">
	   		<div class="modal-content">
	   			<div class="modal-header">
	     			<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
	     			<h4 class="modal-title" id="openSurveyLabel">Open Form</h4>
	   			</div>
			     <div class="modal-body">
			  		<form role="form" class="form-horizontal">
			  			<div class="form-group">
							<label for="project_name" class="lang col-sm-2 control-label" data-lang="c_project">Project :</label>
							<div class="col-sm-10">
								<select id="project_name" class="project_list form-control"></select>
							</div>
						</div>
						<div class="form-group">
							<label for="form_name" class="lang col-sm-2 control-label" data-lang="a_exp_leg1">Form</label>
							<select id="form_name" class="survey_select form-control"></select>
						</div>
					</form>
				</div>
			</div>
	
			<div class="modal-footer">
	            <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_cancel">Cancel</button>
	            <button id="get_form" type="button" class="btn btn-primary lang" data-dismiss="modal" data-lang="m_open">Open</button>
	        </div>
		</div>
	</div>
	

	
	<div id="upload_media" class="reveal-modal" data-reveal>
  		<h2>Upload Media</h2>
  			<form id="media_controls" name="add_media_form" action="	/surveyKPI/upload/media" enctype="multipart/form-data" method="POST" 
				class="ui-body ui-body-a ui-corner-all">
			<input id="sId" type="hidden" name="survey_id" value="" style="display:none;"/>	
			<label for="file">File:</label> 
			<input type="file" name="tname" id="file" size="30"/><br/>
			<input id="upload_media_done" class="button radius text-center" value="Upload">
		</form>

  		<a class="close-reveal-modal">&#215;</a>
	</div>
	
<!-- Popup to allow the user to edit their own details -->
<div id="modify_me_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modifyMeLabel" aria-hidden="true">
	<div class="modal-dialog">
   		<div class="modal-content">
   			<div class="modal-header">
     			<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
     			<h4 class="modal-title" id="modifyMeLabel">New message</h4>
   			</div>
		     <div class="modal-body">
				<form role="form" class="form-horizontal" id="me_edit_form">
					<div class="form-group">
						<label for="me_name" data-lang="c_name" class="lang col-sm-2 control-label">Name</label>
						<div class="col-sm-10">
							<input type="text" id="me_name" required class="form-control">
						</div>
					</div>
					<div class="form-group">
						<label for="me_language" data-lang="c_lang" class="lang col-sm-2 control-label">Language</label>
						<div class="col-sm-10">
							<select id="me_language" class="form-control"></select>
						</div>
					</div>
					<div class="form-group">
						<label for="me_email" data-lang="c_email" class="lang col-sm-2 control-label">Email</label>
						<div class="col-sm-10">
							<input type="email" class="form-control" id="me_email" 
									placeholder="Enter email" 
									pattern="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$">
						</div>
					</div>
					<div id="reset_me_password_fields" style="display:none;">
						<div class="form-group">
							<div class="col-sm-offset-2 col-sm-10">
								<div class="checkbox">
									<label>
										<input type="checkbox" id="reset_me_password"><span data-lang="c_r_p" class="lang">Reset Password</span>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div id="password_me_fields" style="display:none;">
						<div class="form-group">
							<label for="me_password" data-lang="c_password" class="lang col-sm-2 control-label">Password</label>
							<div class="col-sm-10">
								<input id="me_password" type="password" placeholder="Password" class="form-control">
							</div>
						</div>	
						<div class="form-group">
							<label for="me_password_confirm" data-lang="c_c_p" class="lang col-sm-2 control-label">Confirm Password</label>
							<div class="col-sm-10">
								<input id="me_password_confirm" type="password" placeholder="Password" class="form-control">
							</div>
						</div>	
					</div>		
				</form>	
			</div>

			<div class="modal-footer">
            	<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
            	<button id="userProfileLogout"type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_logout">Logout</button>
            	<button id="userProfileSave" type="button" class="btn btn-primary lang" data-dismiss="modal" data-lang="c_save">Save</button>
        	</div>
		</div>
	</div>
</div>
</body>
</html>
